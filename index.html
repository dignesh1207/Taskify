<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Goal Tracker</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slide-in-right {
            from { opacity: 0; transform: translateX(100%); }
            to { opacity: 1; transform: translateX(0); }
        }
        .animate-fade-in { animation: fade-in 0.5s ease-out; }
        .animate-slide-in-right { animation: slide-in-right 0.3s ease-out; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Mock storage for demo
        class MockStorage {
            constructor() {
                this.data = JSON.parse(localStorage.getItem('daily-goal-tracker-data') || '{}');
            }
            
            async get(key) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        const value = this.data[key];
                        resolve(value !== undefined ? { key, value } : null);
                    }, 10);
                });
            }
            
            async set(key, value) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        this.data[key] = value;
                        localStorage.setItem('daily-goal-tracker-data', JSON.stringify(this.data));
                        resolve({ key, value });
                    }, 10);
                });
            }
            
            async delete(key) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        delete this.data[key];
                        localStorage.setItem('daily-goal-tracker-data', JSON.stringify(this.data));
                        resolve({ key, deleted: true });
                    }, 10);
                });
            }
        }

        window.storage = new MockStorage();

        // Notification Component
        const Notification = ({ notification, onClose, darkMode }) => {
            useEffect(() => {
                if (notification) {
                    const timer = setTimeout(() => {
                        onClose();
                    }, notification.duration || 3000);
                    return () => clearTimeout(timer);
                }
            }, [notification, onClose]);

            if (!notification) return null;

            const icons = {
                success: '‚úì',
                error: '‚úï',
                warning: '‚ö†',
                info: '‚Ñπ'
            };

            const colors = {
                success: darkMode ? 'bg-green-900 border-green-700 text-green-100' : 'bg-green-50 border-green-200 text-green-900',
                error: darkMode ? 'bg-red-900 border-red-700 text-red-100' : 'bg-red-50 border-red-200 text-red-900',
                warning: darkMode ? 'bg-yellow-900 border-yellow-700 text-yellow-100' : 'bg-yellow-50 border-yellow-200 text-yellow-900',
                info: darkMode ? 'bg-blue-900 border-blue-700 text-blue-100' : 'bg-blue-50 border-blue-200 text-blue-900'
            };

            return (
                <div className="fixed top-4 right-4 z-50 animate-slide-in-right">
                    <div className={`flex items-center gap-3 px-4 py-3 rounded-lg border-2 shadow-lg min-w-[300px] ${colors[notification.type]}`}>
                        <div className="text-xl">{icons[notification.type]}</div>
                        <p className="flex-1 font-medium">{notification.message}</p>
                        <button onClick={onClose} className="text-xl hover:opacity-70">√ó</button>
                    </div>
                </div>
            );
        };

        // Main App
        const DailyGoalTracker = () => {
            const [selectedDate, setSelectedDate] = useState(new Date());
            const [goals, setGoals] = useState({});
            const [newGoal, setNewGoal] = useState('');
            const [newGoalCategory, setNewGoalCategory] = useState('personal');
            const [editingGoal, setEditingGoal] = useState(null);
            const [view, setView] = useState('today');
            const [loading, setLoading] = useState(true);
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [userName, setUserName] = useState('');
            const [loginName, setLoginName] = useState('');
            const [showWelcome, setShowWelcome] = useState(false);
            const [darkMode, setDarkMode] = useState(false);
            const [notification, setNotification] = useState(null);

            const categories = {
                personal: { name: 'Personal', color: 'bg-blue-500' },
                health: { name: 'Health', color: 'bg-green-500' },
                work: { name: 'Work', color: 'bg-purple-500' },
                learning: { name: 'Learning', color: 'bg-orange-500' },
                finance: { name: 'Finance', color: 'bg-yellow-500' },
                social: { name: 'Social', color: 'bg-pink-500' }
            };

            const showNotification = (message, type = 'success', duration = 3000) => {
                setNotification({ message, type, duration });
            };

            useEffect(() => {
                loadUserData();
            }, []);

            const loadUserData = async () => {
                try {
                    const userResult = await window.storage.get('user-info');
                    if (userResult && userResult.value) {
                        const userData = JSON.parse(userResult.value);
                        setUserName(userData.name);
                        setIsLoggedIn(true);
                        setShowWelcome(true);
                        setTimeout(() => setShowWelcome(false), 3000);
                    }

                    const themeResult = await window.storage.get('theme-preference');
                    if (themeResult && themeResult.value) {
                        setDarkMode(JSON.parse(themeResult.value).darkMode);
                    }

                    const goalsResult = await window.storage.get('daily-goals');
                    if (goalsResult && goalsResult.value) {
                        setGoals(JSON.parse(goalsResult.value));
                    }
                } catch (error) {
                    console.log('No saved data found');
                }
                setLoading(false);
            };

            const handleLogin = async () => {
                if (!loginName.trim()) {
                    showNotification('Please enter your name', 'error');
                    return;
                }
                
                try {
                    await window.storage.set('user-info', JSON.stringify({ name: loginName }));
                    setUserName(loginName);
                    setIsLoggedIn(true);
                    setShowWelcome(true);
                    showNotification(`Welcome, ${loginName}! üéâ`, 'success');
                    setTimeout(() => setShowWelcome(false), 3000);
                } catch (error) {
                    showNotification('Failed to save user info', 'error');
                }
            };

            const handleLogout = async () => {
                try {
                    await window.storage.delete('user-info');
                    setIsLoggedIn(false);
                    setUserName('');
                    setLoginName('');
                    showNotification('Logged out successfully', 'info');
                } catch (error) {
                    showNotification('Failed to logout', 'error');
                }
            };

            const toggleTheme = async () => {
                const newTheme = !darkMode;
                setDarkMode(newTheme);
                try {
                    await window.storage.set('theme-preference', JSON.stringify({ darkMode: newTheme }));
                    showNotification(`${newTheme ? 'Dark' : 'Light'} mode activated`, 'info', 2000);
                } catch (error) {
                    showNotification('Failed to save theme', 'error');
                }
            };

            const saveGoals = async (updatedGoals) => {
                try {
                    await window.storage.set('daily-goals', JSON.stringify(updatedGoals));
                    setGoals(updatedGoals);
                } catch (error) {
                    showNotification('Failed to save goals', 'error');
                }
            };

            const getDateKey = (date) => {
                return date.toISOString().split('T')[0];
            };

            const addGoal = () => {
                if (!newGoal.trim()) {
                    showNotification('Please enter a goal', 'warning');
                    return;
                }

                const dateKey = getDateKey(selectedDate);
                const updatedGoals = { ...goals };
                
                if (!updatedGoals[dateKey]) {
                    updatedGoals[dateKey] = [];
                }

                updatedGoals[dateKey].push({
                    id: Date.now(),
                    text: newGoal,
                    category: newGoalCategory,
                    completed: false,
                    createdAt: new Date().toISOString()
                });

                saveGoals(updatedGoals);
                setNewGoal('');
                showNotification('Goal added successfully! üéØ', 'success');
            };

            const toggleGoal = (goalId) => {
                const dateKey = getDateKey(selectedDate);
                const updatedGoals = { ...goals };
                const goal = updatedGoals[dateKey]?.find(g => g.id === goalId);
                
                if (goal) {
                    goal.completed = !goal.completed;
                    goal.completedAt = goal.completed ? new Date().toISOString() : null;
                    saveGoals(updatedGoals);
                    
                    if (goal.completed) {
                        showNotification('Goal completed! üéâ', 'success', 2000);
                        
                        const allCompleted = updatedGoals[dateKey].every(g => g.completed);
                        if (allCompleted) {
                            setTimeout(() => {
                                showNotification('All goals completed! Amazing work! üåü', 'success', 3000);
                            }, 500);
                        }
                    } else {
                        showNotification('Goal marked as incomplete', 'info', 2000);
                    }
                }
            };

            const deleteGoal = (goalId) => {
                const dateKey = getDateKey(selectedDate);
                const updatedGoals = { ...goals };
                
                if (updatedGoals[dateKey]) {
                    updatedGoals[dateKey] = updatedGoals[dateKey].filter(g => g.id !== goalId);
                    if (updatedGoals[dateKey].length === 0) {
                        delete updatedGoals[dateKey];
                    }
                    saveGoals(updatedGoals);
                    showNotification('Goal deleted', 'info', 2000);
                }
            };

            const updateGoal = (goalId, newText) => {
                if (!newText.trim()) {
                    showNotification('Goal cannot be empty', 'warning');
                    return;
                }

                const dateKey = getDateKey(selectedDate);
                const updatedGoals = { ...goals };
                const goal = updatedGoals[dateKey]?.find(g => g.id === goalId);
                
                if (goal) {
                    goal.text = newText;
                    saveGoals(updatedGoals);
                    setEditingGoal(null);
                    showNotification('Goal updated', 'success', 2000);
                }
            };

            const changeDate = (days) => {
                const newDate = new Date(selectedDate);
                newDate.setDate(newDate.getDate() + days);
                setSelectedDate(newDate);
            };

            const goToToday = () => {
                setSelectedDate(new Date());
                showNotification('Jumped to today', 'info', 2000);
            };

            const getGoalsForDate = (date) => {
                const dateKey = getDateKey(date);
                return goals[dateKey] || [];
            };

            const getCurrentGoals = () => getGoalsForDate(selectedDate);

            const getCompletionRate = (date) => {
                const dateGoals = getGoalsForDate(date);
                if (dateGoals.length === 0) return 0;
                const completed = dateGoals.filter(g => g.completed).length;
                return Math.round((completed / dateGoals.length) * 100);
            };

            const getStreak = () => {
                let streak = 0;
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                
                for (let i = 0; i < 365; i++) {
                    const checkDate = new Date(today);
                    checkDate.setDate(checkDate.getDate() - i);
                    const rate = getCompletionRate(checkDate);
                    
                    if (rate === 100 && getGoalsForDate(checkDate).length > 0) {
                        streak++;
                    } else if (i > 0) {
                        break;
                    }
                }
                
                return streak;
            };

            const formatDate = (date) => {
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                const compareDate = new Date(date);
                compareDate.setHours(0, 0, 0, 0);
                
                if (compareDate.getTime() === today.getTime()) {
                    return 'Today';
                }
                
                const tomorrow = new Date(today);
                tomorrow.setDate(tomorrow.getDate() + 1);
                if (compareDate.getTime() === tomorrow.getTime()) {
                    return 'Tomorrow';
                }
                
                const yesterday = new Date(today);
                yesterday.setDate(yesterday.getDate() - 1);
                if (compareDate.getTime() === yesterday.getTime()) {
                    return 'Yesterday';
                }
                
                return date.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });
            };

            const currentGoals = getCurrentGoals();
            const completionRate = getCompletionRate(selectedDate);
            const streak = getStreak();

            if (loading) {
                return (
                    <div className={`min-h-screen flex items-center justify-center ${darkMode ? 'bg-gray-900' : 'bg-gradient-to-br from-indigo-50 to-purple-50'}`}>
                        <div className="text-center">
                            <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"></div>
                            <div className={darkMode ? 'text-gray-300' : 'text-gray-600'}>Loading your goals...</div>
                        </div>
                    </div>
                );
            }

            if (!isLoggedIn) {
                return (
                    <>
                        <Notification notification={notification} onClose={() => setNotification(null)} darkMode={darkMode} />
                        <div className={`min-h-screen flex items-center justify-center ${darkMode ? 'bg-gray-900' : 'bg-gradient-to-br from-indigo-50 to-purple-50'}`}>
                            <div className={`max-w-md w-full mx-4 ${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-2xl shadow-2xl p-8`}>
                                <div className="text-center mb-8">
                                    <div className="inline-block bg-gradient-to-r from-indigo-500 to-purple-500 p-4 rounded-2xl mb-4">
                                        <span className="text-white text-5xl">üéØ</span>
                                    </div>
                                    <h1 className={`text-3xl font-bold mb-2 ${darkMode ? 'text-white' : 'text-gray-800'}`}>
                                        Daily Goal Tracker
                                    </h1>
                                    <p className={darkMode ? 'text-gray-400' : 'text-gray-600'}>
                                        Welcome! Please enter your name to get started
                                    </p>
                                </div>

                                <div className="space-y-4">
                                    <input
                                        type="text"
                                        value={loginName}
                                        onChange={(e) => setLoginName(e.target.value)}
                                        onKeyPress={(e) => e.key === 'Enter' && handleLogin()}
                                        placeholder="Enter your name"
                                        className={`w-full px-4 py-3 rounded-lg border-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-800'}`}
                                        autoFocus
                                    />
                                    
                                    <button
                                        onClick={handleLogin}
                                        disabled={!loginName.trim()}
                                        className="w-full px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg hover:from-indigo-600 hover:to-purple-600 transition font-medium disabled:opacity-50 disabled:cursor-not-allowed"
                                    >
                                        Get Started
                                    </button>
                                </div>

                                <div className="mt-6 flex justify-center">
                                    <button
                                        onClick={toggleTheme}
                                        className={`p-2 rounded-lg transition ${darkMode ? 'bg-gray-700 text-yellow-400' : 'bg-gray-100 text-gray-700'}`}
                                    >
                                        {darkMode ? '‚òÄÔ∏è' : 'üåô'}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </>
                );
            }

            return (
                <>
                    <Notification notification={notification} onClose={() => setNotification(null)} darkMode={darkMode} />
                    
                    <div className={`min-h-screen p-4 transition-colors ${darkMode ? 'bg-gray-900' : 'bg-gradient-to-br from-indigo-50 to-purple-50'}`}>
                        {showWelcome && (
                            <div className="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 animate-fade-in">
                                <div className="bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-8 py-4 rounded-2xl shadow-2xl">
                                    <p className="text-xl font-semibold">Welcome back, {userName}! üéØ</p>
                                </div>
                            </div>
                        )}

                        <div className="max-w-6xl mx-auto">
                            {/* Header */}
                            <div className={`rounded-2xl shadow-lg p-6 mb-6 ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                                <div className="flex items-center justify-between mb-4 flex-wrap gap-4">
                                    <div className="flex items-center gap-3">
                                        <div className="bg-gradient-to-r from-indigo-500 to-purple-500 p-3 rounded-xl">
                                            <span className="text-white text-2xl">üéØ</span>
                                        </div>
                                        <div>
                                            <h1 className={`text-3xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>
                                                Daily Goal Tracker
                                            </h1>
                                            <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>
                                                Hello, {userName}!
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <div className="flex gap-2 items-center flex-wrap">
                                        <button
                                            onClick={toggleTheme}
                                            className={`p-2 rounded-lg transition ${darkMode ? 'bg-gray-700 text-yellow-400 hover:bg-gray-600' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}
                                        >
                                            {darkMode ? '‚òÄÔ∏è' : 'üåô'}
                                        </button>
                                        
                                        <button
                                            onClick={handleLogout}
                                            className={`px-4 py-2 rounded-lg font-medium transition ${darkMode ? 'bg-gray-700 text-gray-300 hover:bg-gray-600' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}
                                        >
                                            Logout
                                        </button>
                                    </div>
                                </div>

                                {/* Stats */}
                                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <div className={`p-4 rounded-xl ${darkMode ? 'bg-gradient-to-r from-blue-900 to-blue-800' : 'bg-gradient-to-r from-blue-50 to-blue-100'}`}>
                                        <div className="flex items-center gap-2 mb-1">
                                            <span className="text-xl">üèÜ</span>
                                            <span className={`text-sm font-medium ${darkMode ? 'text-blue-300' : 'text-blue-700'}`}>
                                                Current Streak
                                            </span>
                                        </div>
                                        <p className={`text-2xl font-bold ${darkMode ? 'text-blue-100' : 'text-blue-900'}`}>
                                            {streak} days
                                        </p>
                                    </div>
                                    
                                    <div className={`p-4 rounded-xl ${darkMode ? 'bg-gradient-to-r from-green-900 to-green-800' : 'bg-gradient-to-r from-green-50 to-green-100'}`}>
                                        <div className="flex items-center gap-2 mb-1">
                                            <span className="text-xl">üìà</span>
                                            <span className={`text-sm font-medium ${darkMode ? 'text-green-300' : 'text-green-700'}`}>
                                                Today's Progress
                                            </span>
                                        </div>
                                        <p className={`text-2xl font-bold ${darkMode ? 'text-green-100' : 'text-green-900'}`}>
                                            {completionRate}%
                                        </p>
                                    </div>
                                    
                                    <div className={`p-4 rounded-xl ${darkMode ? 'bg-gradient-to-r from-purple-900 to-purple-800' : 'bg-gradient-to-r from-purple-50 to-purple-100'}`}>
                                        <div className="flex items-center gap-2 mb-1">
                                            <span className="text-xl">üéØ</span>
                                            <span className={`text-sm font-medium ${darkMode ? 'text-purple-300' : 'text-purple-700'}`}>
                                                Total Goals
                                            </span>
                                        </div>
                                        <p className={`text-2xl font-bold ${darkMode ? 'text-purple-100' : 'text-purple-900'}`}>
                                            {currentGoals.length}
                                        </p>
                                    </div>
                                </div>
                            </div>

                            {/* Date Navigation */}
                            <div className={`rounded-2xl shadow-lg p-6 mb-6 ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                                <div className="flex items-center justify-between">
                                    <button
                                        onClick={() => changeDate(-1)}
                                        className={`p-2 rounded-lg transition ${darkMode ? 'hover:bg-gray-700 text-gray-300' : 'hover:bg-gray-100 text-gray-800'}`}
                                    >
                                        ‚Üê
                                    </button>
                                    
                                    <div className="text-center">
                                        <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>
                                            {formatDate(selectedDate)}
                                        </h2>
                                        <p className={darkMode ? 'text-gray-400' : 'text-gray-600'}>
                                            {selectedDate.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
                                        </p>
                                    </div>
                                    
                                    <button
                                        onClick={() => changeDate(1)}
                                        className={`p-2 rounded-lg transition ${darkMode ? 'hover:bg-gray-700 text-gray-300' : 'hover:bg-gray-100 text-gray-800'}`}
                                    >
                                        ‚Üí
                                    </button>
                                </div>
                                
                                <div className="flex justify-center mt-4">
                                    <button
                                        onClick={goToToday}
                                        className={`px-4 py-2 rounded-lg transition font-medium ${darkMode ? 'bg-indigo-900 text-indigo-200 hover:bg-indigo-800' : 'bg-indigo-100 text-indigo-700 hover:bg-indigo-200'}`}
                                    >
                                        Go to Today
                                    </button>
                                </div>
                            </div>

                            {/* Add Goal */}
                            <div className={`rounded-2xl shadow-lg p-6 mb-6 ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                                <h3 className={`text-lg font-semibold mb-4 ${darkMode ? 'text-white' : 'text-gray-800'}`}>
                                    Add New Goal
                                </h3>
                                <div className="flex gap-3 flex-wrap">
                                    <select
                                        value={newGoalCategory}
                                        onChange={(e) => setNewGoalCategory(e.target.value)}
                                        className={`px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-indigo-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300 bg-white text-gray-800'}`}
                                    >
                                        {Object.entries(categories).map(([key, cat]) => (
                                            <option key={key} value={key}>{cat.name}</option>
                                        ))}
                                    </select>
                                    
                                    <input
                                        type="text"
                                        value={newGoal}
                                        onChange={(e) => setNewGoal(e.target.value)}
                                        onKeyPress={(e) => e.key === 'Enter' && addGoal()}
                                        placeholder="Enter your goal..."
                                        className={`flex-1 px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-indigo-500 ${darkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'border-gray-300 bg-white text-gray-800'}`}
                                    />
                                    
                                    <button
                                        onClick={addGoal}
                                        className="px-6 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg hover:from-indigo-600 hover:to-purple-600 transition font-medium"
                                    >
                                        ‚ûï Add Goal
                                    </button>
                                </div>
                            </div>

                            {/* Goals List */}
                            <div className={`rounded-2xl shadow-lg p-6 ${darkMode ? 'bg-gray-800' : 'bg-white'}`}>
                                <h3 className={`text-lg font-semibold mb-4 ${darkMode ? 'text-white' : 'text-gray-800'}`}>
                                    Goals for {formatDate(selectedDate)}
                                </h3>
                                
                                {currentGoals.length === 0 ? (
                                    <div className="text-center py-12">
                                        <span className={`text-6xl mb-4 block ${darkMode ? 'opacity-20' : 'opacity-30'}`}>üéØ</span>
                                        <p className={darkMode ? 'text-gray-400' : 'text-gray-500'}>
                                            No goals set for this day yet.
                                        </p>
                                        <p className={`text-sm mt-2 ${darkMode ? 'text-gray-500' : 'text-gray-400'}`}>
                                            Add your first goal above!
                                        </p>
                                    </div>
                                ) : (
                                    <div className="space-y-3">
                                        {Object.entries(
                                            currentGoals.reduce((acc, goal) => {
                                                if (!acc[goal.category]) acc[goal.category] = [];
                                                acc[goal.category].push(goal);
                                                return acc;
                                            }, {})
                                        ).map(([category, categoryGoals]) => (
                                            <div key={category}>
                                                <div className="flex items-center gap-2 mb-2">
                                                    <div className={`w-3 h-3 rounded-full ${categories[category].color}`}></div>
                                                    <span className={`text-sm font-medium ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>
                                                        {categories[category].name}
                                                    </span>
                                                </div>
                                                
                                                {categoryGoals.map((goal) => (
                                                    <div
                                                        key={goal.id}
                                                        className={`flex items-center gap-3 p-4 rounded-xl border-2 mb-2 transition ${goal.completed ? (darkMode ? 'bg-green-900 border-green-700' : 'bg-green-50 border-green-200') : (darkMode ? 'bg-gray-700 border-gray-600 hover:border-indigo-500' : 'bg-white border-gray-200 hover:border-indigo-300')}`}
                                                    >
                                                        <button
                                                            onClick={() => toggleGoal(goal.id)}
                                                            className={`flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center transition ${goal.completed ? 'bg-green-500 border-green-500' : (darkMode ? 'border-gray-500 hover:border-indigo-400' : 'border-gray-300 hover:border-indigo-500')}`}
                                                        >
                                                            {goal.completed && <span className="text-white text-sm">‚úì</span>}
                                                        </button>
                                                        
                                                        {editingGoal === goal.id ? (
                                                            <input
                                                                type="text"
                                                                defaultValue={goal.text}
                                                                onKeyPress={(e) => {
                                                                    if (e.key === 'Enter') {
                                                                        updateGoal(goal.id, e.target.value);
                                                                    }
                                                                }}
                                                                onBlur={(e) => updateGoal(goal.id, e.target.value)}
                                                                autoFocus
                                                                className={`flex-1 px-2 py-1 border rounded ${darkMode ? 'bg-gray-600 border-gray-500 text-white' : 'bg-white border-gray-300 text-gray-800'}`}
                                                            />
                                                        ) : (
                                                            <span
                                                                className={`flex-1 ${goal.completed ? (darkMode ? 'line-through text-gray-400' : 'line-through text-gray-500') : (darkMode ? 'text-gray-200' : 'text-gray-800')}`}
                                                            >
                                                                {goal.text}
                                                            </span>
                                                        )}
                                                        
                                                        <div className="flex gap-2">
                                                            <button
                                                                onClick={() => setEditingGoal(goal.id)}
                                                                className={`p-1 transition ${darkMode ? 'text-gray-400 hover:text-indigo-400' : 'text-gray-400 hover:text-indigo-600'}`}
                                                            >
                                                                ‚úèÔ∏è
                                                            </button>
                                                            <button
                                                                onClick={() => deleteGoal(goal.id)}
                                                                className={`p-1 transition ${darkMode ? 'text-gray-400 hover:text-red-400' : 'text-gray-400 hover:text-red-600'}`}
                                                            >
                                                                üóëÔ∏è
                                                            </button>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </>
            );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(<DailyGoalTracker />);
    </script>
</body>
</html>